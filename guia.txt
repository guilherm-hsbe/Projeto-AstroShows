Roteiro autenticação com Vite

- Criar o projeto
> laravel new nomeProjeto

- Criar o banco de dados no phpMyAdmin

- instalar node no projeto
> npm install

- criar a pasta images em resources

- criar style.css em resources/css

- converter projeto com laravel-mix para vite (https://morioh.com/p/72d0f4bc6122)
> npm install --save-dev vite laravel-vite-plugin
> npm remove laravel-mix && del webpack.mix.js

-- alterar package.json
--
{
    "private": true,
    "scripts": {
        "dev": "vite",
        "build": "vite build"
    },
    "devDependencies": {
        "@tailwindcss/forms": "^0.5.2",
        "alpinejs": "^3.4.2",
        "autoprefixer": "^10.4.2",
        "axios": "^1.1.2",
        "laravel-vite-plugin": "^0.6.0",
        "lodash": "^4.17.19",
        "postcss": "^8.4.6",
        "tailwindcss": "^3.1.0",
        "vite": "^3.0.0"
    }
}
--

- alterar o vite.config.js
--
import { defineConfig } from 'vite';
import laravel from 'laravel-vite-plugin';

export default defineConfig({
    plugins: [
        laravel({
            input: [
                'resources/css/app.css',
                'resources/css/style.css',
                'resources/js/app.js',
            ],
            refresh: true,
        }),
    ],
});
--

- incluir no resource/js/app.js
--
import.meta.glob([
  '../images/**'
]);
--

- para referenciar a imagem, usar: 
> {{ Vite::asset('resources/images/imagem.png') }}

- para incluir o css e js, usar:
> @vite(['resources/css/app.css', 'resources/js/app.js'])

- executar build do node
> npm run build (cria o ambiente de produção compilado)
> npm run dev (compila os assets)

- Autenticação com Breeze
-- baixar dependências e instalar o breeze
> composer require laravel/breeze --dev
> php artisan breeze:install
> npm install
> npm run build
> php artisan migrate

- criar o campo role (papel) na tabela user (alterar no migration)
--- poderá ser cliente e administrador
> php artisan migrate:fresh

-- acrescentar o campo 'role' ao models User.php

-- traduzir as mensagens (pesquisar uma traduação e copiar a pasta) 
--- ex: git Lucas Rocha (https://github.com/lucascudo/laravel-pt-BR-localization)

-- Instale o pacote
> composer require lucascudo/laravel-pt-br-localization --dev

-- Publique as traduções
> php artisan vendor:publish --tag=laravel-pt-br-localization

-- Configure o Framework para utilizar 'pt-BR' como linguagem padrão
> Altere Linha 85 do arquivo config/app.php para: 'locale' => 'pt-BR',

-- Caso deseje, configure o Framework para utilizar 'America/Sao_Paulo' como data hora padrão
> Altere Linha 72 do arquivo config/app.php para: 'timezone' => 'America/Sao_Paulo',

-- rode o server novamente
> php artisan serve


- EMail para teste
-- criar conta em mailtrap.io
-- copiar configuração para Laravel7+ em Sandbox/My Inbox
-- colar dados no aquivo .env do projeto
--
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=67c3b986a771e6
MAIL_PASSWORD=f854535d62c9bb
MAIL_ENCRYPTION=tls
--



